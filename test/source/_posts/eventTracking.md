---
title: 页面埋点基础概念
date: 2023-04-25 22:34:53
categories:
  - 技术学习
tags:
  - 埋点
  - JavaScript
---

所谓埋点可以理解为在应用中通过代码来采集上报一些信息，用于分析应用使用的状况，后续用来进一步优化产品或是提供运营的数据支撑。对于公司来说埋点的业务意义非常重要。

<!-- more -->

## 常见的埋点方式

埋点常用的技术方案有三种：代码侵入埋点、可视化埋点、无埋点。

### 代码侵入埋点

代码埋点就是在你需要统计数据的地方植入 N 行代码，统计用户的关键行为。

- 优点：使用者控制精准，可以非常精确地选择什么时候发送数据；使用者可以比较方便地设置自定义属性、自定义事件，传递比较丰富的数据到服务端
- 缺点：每一个控件的埋点都需要添加相应的代码，工作量大，对业务代码的侵入性高；存在更新代价，每一次更新，都需要通过各个应用市场进行分发，而且有的用户还不一定更新，就会流失这部分客户的数据

但综合来说代码埋点对于公司自研的角度是最容易实现的。

### 可视化埋点

可视化埋点的具体操作是：在可视化界面上打开项目地址，并圈选需要埋点的 DOM 元素，对选中的 DOM 元素添加自定义埋点事件；完成后可视化平台会根据保存的事件列表生成一个 JS 文件，需要将其埋入应用。
该方式的实现原理是：在进行事件设置的时候，“可视化埋点工具”会利用它部署在网站页面（或者 app）上的基础代码对网站（或 app）上所有的可交互事件元素进行解析，获取它们的 DOM path。

- 优点：操作简单
- 缺点：上报的场景比较受限，跟事件操作强关联；埋点配置需要独立发布

该方式实现的代表三方为 talkingData、Mixpanel

### 无埋点

无埋点也可以理解为全埋点，前端引入的 SDK 会自动劫持页面所有的事件、进行自主上报。

- 优点：对业务代码的侵入量少，操作简单
- 缺点：会产生大量的上报请求，服务器的压力会比较大；如果没有合适的数据清洗规范，后台看到的数据就难以进行分析

一般来说无埋点方案可能会直接使用现有的三方 SDK 如 GrowingIO、神策等。
